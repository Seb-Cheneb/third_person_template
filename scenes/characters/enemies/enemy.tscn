[gd_scene load_steps=6 format=3 uid="uid://c4e6sy52iqgt3"]

[ext_resource type="PackedScene" uid="uid://cbomveynt41s0" path="res://scenes/characters/player/rig.tscn" id="1_w0ky3"]
[ext_resource type="PackedScene" uid="uid://cs5no2ji8gja0" path="res://components/health_component.tscn" id="3_nwhyh"]
[ext_resource type="PackedScene" uid="uid://cq2cth7cph4yf" path="res://scenes/characters/player/area_attack.tscn" id="3_qj54i"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nwhyh"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_nwhyh"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 8
collision_mask = 13

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_nwhyh")

[node name="Rig" parent="." instance=ExtResource("1_w0ky3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Skeleton3D" parent="Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(3.37508e-15, 0.892612, -0.0481736)
bones/2/rotation = Quaternion(-0.00404619, -0.000451809, 0.00321551, 0.999987)
bones/3/rotation = Quaternion(-0.0989438, -0.000411948, 0.0085184, 0.995057)
bones/4/rotation = Quaternion(0.278551, 1.44336e-08, 9.51791e-08, 0.960421)
bones/6/rotation = Quaternion(-0.153976, -1.17581e-07, -1.96694e-08, 0.988075)
bones/7/position = Vector3(-2.74319e-08, 0.892612, -0.0481735)
bones/8/position = Vector3(-5.74471e-08, 0.892612, -0.0481735)
bones/9/position = Vector3(0.131144, 0.958816, -0.0351291)
bones/9/rotation = Quaternion(0.992546, 0.0211069, -0.0308395, 0.115996)
bones/11/rotation = Quaternion(0.430597, -0.000700602, 0.0003344, 0.902544)
bones/13/rotation = Quaternion(-0.756065, 0.011902, 0.0244286, 0.653932)
bones/15/position = Vector3(-0.131144, 0.958816, -0.0351291)
bones/15/rotation = Quaternion(0.972235, -0.00596166, 0.0271972, 0.232344)
bones/17/rotation = Quaternion(0.45399, 0.00334909, -0.00170658, 0.890999)
bones/19/rotation = Quaternion(-0.691803, -0.0282117, -0.000474758, 0.721535)
bones/21/position = Vector3(0.0251286, 1.4236, 0.0410416)
bones/21/rotation = Quaternion(-0.500676, -0.254885, -0.394674, 0.727041)
bones/22/position = Vector3(0.18753, 1.45919, -0.0281663)
bones/22/rotation = Quaternion(0.0593461, -0.158225, 0.97391, -0.151468)
bones/23/rotation = Quaternion(6.53135e-08, -0.00871152, -4.40445e-08, 0.999962)
bones/24/rotation = Quaternion(0.281158, -0.00819114, -0.016881, 0.959478)
bones/46/position = Vector3(-0.0113635, 1.4236, 0.0410416)
bones/46/rotation = Quaternion(-0.525411, 0.204599, 0.360114, 0.743236)
bones/47/position = Vector3(-0.162846, 1.45904, -0.049702)
bones/47/rotation = Quaternion(-0.0978047, -0.13289, 0.971201, 0.171882)
bones/48/rotation = Quaternion(8.75298e-08, -0.00187937, 7.60099e-08, 0.999998)
bones/49/rotation = Quaternion(0.311307, -0.00187888, 0.0285949, 0.949877)
bones/71/position = Vector3(0.127191, 1.34074, -0.026942)
bones/71/rotation = Quaternion(1.89804e-08, 0.617822, 0.786318, -4.6594e-08)
bones/72/position = Vector3(-0.113426, 1.34074, -0.0269421)
bones/72/rotation = Quaternion(1.89804e-08, 0.617822, 0.786318, -4.65939e-08)

[node name="Knight_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="0"]
visible = false

[node name="Villager_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="2"]
visible = true

[node name="RightHandBone" parent="Rig" index="2"]
transform = Transform3D(-0.962344, -0.2708, -0.0237165, 0.246467, -0.906009, 0.344097, -0.114669, 0.325294, 0.938634, -0.336662, 0.973225, -0.0488373)

[node name="LeftHandBone" parent="Rig" index="3"]
transform = Transform3D(-0.970355, 0.239642, 0.0313542, -0.22538, -0.94409, 0.24062, 0.0872637, 0.22642, 0.970113, 0.344477, 0.963332, -0.0617951)

[node name="PlayerDetector" type="ShapeCast3D" parent="Rig"]
transform = Transform3D(2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 2, 1)
shape = SubResource("CylinderShape3D_nwhyh")

[node name="AreaAttack" parent="Rig" instance=ExtResource("3_qj54i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1)
script = null

[node name="HealthComponent" parent="." node_paths=PackedStringArray("body") instance=ExtResource("3_nwhyh")]
body = NodePath("..")

[connection signal="heavy_attack" from="Rig" to="." method="_on_rig_heavy_attack"]
[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]

[editable path="Rig"]
[editable path="Rig/CharacterRig"]
