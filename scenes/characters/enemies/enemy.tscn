[gd_scene load_steps=6 format=3 uid="uid://c4e6sy52iqgt3"]

[ext_resource type="PackedScene" uid="uid://cbomveynt41s0" path="res://scenes/characters/player/rig.tscn" id="1_w0ky3"]
[ext_resource type="PackedScene" uid="uid://cs5no2ji8gja0" path="res://components/health_component.tscn" id="3_nwhyh"]
[ext_resource type="PackedScene" uid="uid://cq2cth7cph4yf" path="res://scenes/characters/player/area_attack.tscn" id="3_qj54i"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nwhyh"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_nwhyh"]

[node name="Enemy" type="CharacterBody3D"]
collision_layer = 8
collision_mask = 13

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_nwhyh")

[node name="Rig" parent="." instance=ExtResource("1_w0ky3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="Skeleton3D" parent="Rig/CharacterRig/GameRig" index="0"]
bones/0/position = Vector3(4.44089e-15, 0.909514, -0.0481736)
bones/2/rotation = Quaternion(0.00613669, -0.000286773, 0.00321147, 0.999976)
bones/3/rotation = Quaternion(-0.0892431, -0.000285802, 0.00852447, 0.995973)
bones/4/rotation = Quaternion(0.270513, 1.44343e-08, 9.18242e-08, 0.962717)
bones/6/rotation = Quaternion(-0.164404, -1.17587e-07, -1.95985e-08, 0.986393)
bones/7/position = Vector3(-2.77572e-08, 0.909514, -0.0481735)
bones/8/position = Vector3(-7.98976e-08, 0.909514, -0.0481735)
bones/9/position = Vector3(0.131144, 0.975719, -0.0351291)
bones/9/rotation = Quaternion(0.994189, 0.0202783, -0.0312334, 0.101)
bones/11/rotation = Quaternion(0.396277, -0.000695513, 0.000300319, 0.918131)
bones/13/rotation = Quaternion(-0.741325, 0.0118475, 0.0243625, 0.6706)
bones/15/position = Vector3(-0.131144, 0.975718, -0.0351291)
bones/15/rotation = Quaternion(0.975683, -0.00530431, 0.0276537, 0.21737)
bones/17/rotation = Quaternion(0.422353, 0.00316205, -0.00147348, 0.906425)
bones/19/rotation = Quaternion(-0.678653, -0.0281413, -0.00141057, 0.733918)
bones/21/position = Vector3(0.0251286, 1.43909, 0.0469286)
bones/21/rotation = Quaternion(-0.471739, -0.266757, -0.415844, 0.730326)
bones/22/position = Vector3(0.191301, 1.47788, -0.0107212)
bones/22/rotation = Quaternion(0.0228485, -0.163784, 0.975449, -0.145439)
bones/23/rotation = Quaternion(6.81658e-08, -0.0378815, 3.89398e-08, 0.999282)
bones/24/rotation = Quaternion(0.348755, -0.0378821, -0.0217737, 0.936195)
bones/46/position = Vector3(-0.0113635, 1.43909, 0.0469286)
bones/46/rotation = Quaternion(-0.473285, 0.261906, 0.413056, 0.73266)
bones/47/position = Vector3(-0.176792, 1.47813, -0.0126544)
bones/47/rotation = Quaternion(-0.014606, -0.147067, 0.976004, 0.15992)
bones/48/rotation = Quaternion(1.08829e-07, 0.0545356, 1.40551e-07, 0.998512)
bones/49/rotation = Quaternion(0.388999, 0.0545361, 0.0280518, 0.919194)
bones/71/position = Vector3(0.127191, 1.35994, -0.0245663)
bones/71/rotation = Quaternion(2.02481e-08, 0.599309, 0.800518, -4.58902e-08)
bones/72/position = Vector3(-0.113426, 1.35994, -0.0245663)
bones/72/rotation = Quaternion(2.02481e-08, 0.599309, 0.800518, -4.58902e-08)

[node name="Knight_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="0"]
visible = false

[node name="Villager_01" parent="Rig/CharacterRig/GameRig/Skeleton3D" index="2"]
visible = true

[node name="RightHandBone" parent="Rig" index="2"]
transform = Transform3D(-0.962344, -0.2708, -0.0237158, 0.222552, -0.834961, 0.5033, -0.156095, 0.479069, 0.863786, -0.350609, 1.01067, 0.0263539)

[node name="LeftHandBone" parent="Rig" index="3"]
transform = Transform3D(-0.970514, 0.239108, 0.0305216, -0.209632, -0.899737, 0.382791, 0.118989, 0.365105, 0.923331, 0.348111, 0.993652, -0.00976769)

[node name="PlayerDetector" type="ShapeCast3D" parent="Rig"]
transform = Transform3D(2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 2, 1)
shape = SubResource("CylinderShape3D_nwhyh")

[node name="AreaAttack" parent="Rig" instance=ExtResource("3_qj54i")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1)
script = null

[node name="HealthComponent" parent="." node_paths=PackedStringArray("body") instance=ExtResource("3_nwhyh")]
body = NodePath("..")

[connection signal="heavy_attack" from="Rig" to="." method="_on_rig_heavy_attack"]
[connection signal="defeat" from="HealthComponent" to="." method="_on_health_component_defeat"]

[editable path="Rig"]
[editable path="Rig/CharacterRig"]
